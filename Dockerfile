# Устанавливаем базовый образ
FROM python:3.8-alpine

# Устанавливаем рабочую директорию внутри контейнера
# Директория будет создана, если её не было
# Будет в дальнешйем использоваться как базовая
WORKDIR /app

# Копируем файл зависимостей
COPY requirements.txt .

# Выполняем необходимые команды
RUN pip install -U pip
RUN pip install -r requirements.txt

# Копируем остальные файлы проекта
COPY . .

# Устанавливаем команду по умолчанию для запуска тестов
CMD ["pytest", "--browser", "chrome"]

